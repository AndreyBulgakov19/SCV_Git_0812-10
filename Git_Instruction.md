# Работа с Git

## 1. Проверка наличия установленного git
В терминале выполнить команду `git --version`.

Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git.
Загружаем последнюю версию Git с https://git-scm.com/downloads.
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git.
При первом использовании Git необходимо представиться. Для этого в терминале нужно выполнить две команды:
```
git config --global user.name 'new user'​— Изменяет имя пользователя
git config --global user.email 'test@mail.ru'​— Изменяет email пользователя
```

## 4. Инициализация репозитория.
После настройки Git, нужно сказать ему о создании нового репозитория, то есть проинициализировать. Для этого в терминале ввыполним команду `git init`. Также можно клонировать существующий репозиторий Git из любого места. Сделать это можно с помощью команды `git clone <адрес репозитория>`.

## 5. Запись изменений репозитория.

После того, как мы успешно проинициализировали репозиторий, можно приступать с ним работать. 
* **git status** - показывает текущий статус репозитория
* **git add** - позволяет отслеживать все изменения в нашем репозитории. Для использования нужно добавить имя файла, или точку для отслеживания всех файлов: 
    1. git add index.html ​— добавляет index.html 
    2. git add . ​— добавляет все файлы
* **git commit** - сохраняет изменения в коммит. То есть фиксирует их. Пишется обязательно с сообщениями. Например, `git commit -m "initial commit"`
* **git diff** - показывает разницу между текущим файлом и сохраненным

## 6. Просмотр истории коммитов.
Для того, чтобы посмотреть историю коммитов используем команду `git log`. А для того посмотреть историю в более сжатом виде, можно использовать команду `git log --oneline`. Для того, чтобы посмотреть историю в более красивом виде, используем команду `git log --graph`.

## 7. Перемещение между сохранениями.
Для того чтобы откатиться до более ранней версии репозитория, или вернуться к любой версии, достаточно вписать команду `git checkout` и рядом написать первые четыре символа кода коммита. После этого нужно вернуться обратно на текущее состояние кода. Для этого используем команду `git checkout main`.

## 8. Игнорирование файлов
В корневой папке проекта создаем файл `.gitignore`. Она нужна для того, чтобы исключить из отслеживания в репозитории файлы и папки. Туда мы записываем файлы или шаблоны, соответствующие таким файлам или папкам. Например, если хотим игнорировать все файлы с расширением png, в .gitignore добавляем игнорирование расширения, вот так: `*.png`.

## 9. Создание веток в Git.
Ветка в Git - это простой перемещаемый указатель на один из коммитов, обычно последний в цупочке коммитов.
По умолчанию имя основной ветки в Git - master.

Создать ветку можно с помощью команды `git branch <имя новой ветки>`. В результате создается новый указатель на текущий коммит. 

После создания новой ветки, для работы в ней, нужно переключиться в эту ветку. Для начала, можем посмотреть все ветки, которые есть. Для этого воспользуемся командой `git branch`. Для того, чтобы переключиться в любую ветку мы введем команду `git checkout <branch_name>`. Если мы хотим сразу создать и переключиться на новую ветку, можно использовать команду `git checkout -b <name>`.

## 10. Слияние веток в Git.
После того, как мы внесли все нужные изменения в дополнительной ветке, ее нужно слить. Для этого сначала мы делаем коммит наших изменений. Затем переходим в ту ветку, в которую мы хотим слить текущую, зачастую мы переходим в ветку main. И уже в этой ветке нам нужно ввести `git merge + имя ветки, которую хотим соединить`.

## 11. Разрешение конфликтов.
Бывает такое, что мы поменяли один и тот же текст, но в разных ветках по-разному. И теперь мы хотим слить ветки в одну. Но git не поймет какую из версий сохранить. У VSC есть возможность принять одну из версий, оставить обе или сравнить. Если мы работаем в терминале или получилось так, что VSC не выдал варианты разрешения конфликта, то можно сделать это вручную. Нужно просто убрать лишнее и оставить нужное.

После того, как мы решили этот конфликт, нужно сохранить этот результат. Нужно сделать коммит решенного конфликта.

## 12. Удаление веток.
Допустим, мы слили ветки и теперь какая-то ветка нам больше не нужна. Нам нужно ее удалить, для этого используем `git branch -d  + имя ветки, которую хотим удалить`. 

Если мы не слили ветки и она нам больше не нужна, нужно использовать D заглавную - это принудительное удаление. `git branch -D  + имя ветки, которую хотим удалить`.

## 13. Работа с удаленными репозиториями.
1. Для того, чтобы работать с удаленными репозиториями, нужно сначала зарегистрироваться на одном из сайтов, на GitHub, BitBucket или другом подобном сервисе. 
2. После этого нужно связать наш терминал с аккаунтом на сервисе. Я буду делать все на GitHub. Итак, связываем наш аккаунт с помощью ввода команд: `git config --global user.name <name>` - *это для имени*, `git config --global user.email <email>` - *это для имейла*. Обязательно указать те данные, которые вводились при регистрации аккаунта на удаленных серверах. 
3. Инициализация проекта. Нужно зайти на GitHub и нажать на кнопку **new repository**. Вот как подключить к удаленному серверу проект:
    * Инициализируем, все изменения фиксируем и коммитим. 
    * С помощью этой команды `git branch -M main` меняем название основной ветки на main, так как GitHub работает с main. 
    * А с помощью команды `git remote add origin <repo url>` мы добавляем удаленный репозиторий с именем origin (можно написать любое).
    * При помощи команды `git push -u origin main` мы отправим все изменения на сервер и свяжем локальный и удаленный репозиторий. 
4. Теперь, когда у нас в локальном репозитории создан коммит и мы подключились к удаленному, можем отправить его на сервер. Мы это будем делать каждый раз, когда хотим обновить данные в удаленном репозитории. Для этого используем  команду `git push` или если хотим передать определенную ветку указываем имя ветки `git push origin branch_name`.
5. Допустим, кто-то другой работал с этим репозиторием, на ГитХабе у нас появились изменения, а на локальном репозитории ничего не изменилось. А для того, чтобы выкачать все изменения с сервера, нужно воспользоваться командой `git pull`. Но будьте осторожны! git pull = git fetch + git merge. `git fetch` - будут выкачены новые коммиты, обновлены только удалённые (remote) ветки и тэги. Это полезно потому, что перед обновлением своего репозитория можно посмотреть все изменения, которые «пришли» к нам. А git pull сразу сливает все ветки.