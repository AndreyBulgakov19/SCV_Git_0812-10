![Логотип GIT`a](logo.png  "Логотип с официального сайта")
# Работа с GIT
### **1. Проверка наличия установлаенного GIT**
* В терминале выполнить команду  <br>`git --version`<br>
Если GIT установлен то появится сообщение с информацией о версии программы или сообщения об ошибке.
### **2. Установка GIT**
* Загружаем последнюю версию GIT https://gitforwindows.org/ Устанваливаем с настройками по умолчанию
### **3. Настройка GIT**
* При первом использовании GIT необходимо представиться.<br> Выполняем в терминале две команды. 
```
git config --global user.name <username>
git config --global user.email <email>
```
### **4. Инициализация репозитория. Остлеживание изменений в каталоге/папке**
* Перед началом работы необходимо понять в какой папке вы сейчас надодитесь. Для этого в терминале посмотрите на путь слева от курсора. Если папка указана не та, которая нужна то необходимо сменить ее использовав команду <br>`cd <путь до каталога>`
* После того как вы оказались в нужной папке запускаем инициализацию GIT'a в ней. 
Запустить можно двумя способами
1. В терминале переходим в папку, в которой хотим создать репозиторий. Выполняем команду: 
`git init`
2. Клонировать существующий репозиторий GIT из любого места. Сделать это можно так:
`git clone <path>`
### **5. Текущее состояние файлов в данной папке**
* Для того что бы понять, как Git видит текущую папку, информацию о текущем состоянии файлов в папке и в какой ветке вы находитесь используйте команду<br>`git status`<br>
```
Статус "On branch master" - вы находитесь в основной ветке
Статус "Untracked означает", что Git видит не отслеживаемый файл
Статус "Changes not staged" for commit есть файлы с не зафиксированными изменениями.
Статус "nothing to commit, working tree clean" у вас нет изменений которые можно зафиксировать.
```
### **6. Отслеживание новых файлов и индексации изменений**
* Для того чтобы начать отслеживать новый файл, используется команда<br>`git add` <имя файла><br> После корректного выполнения данной команды, GIT ни чего не возвращает.
### **7. Запись изменения в репозиторий.**
* Для фиксации изменений используем команду <br>`git commit -m "comment"`<br>
Коментарий обязателен. Перед тем как выполнять команду фиксации необходимо проиндексировать изменения командой `git add <имя файла>`. После чего произвести фиксацию `git commit`. Возможен вариант фиксации изменения совместно с индексацией. Для этого используйте ключ a `git commit -am "comment"` При использовании даного ключа -а, фиксируются все изменнеия для текущего репозитория.
### **8. Просмотр индексированных и неиндексированных изменений**
* Для просмотра того, что именно изменилось в файле с момента последней фиксации используем команду <br>`git diff`<br> Используем ключ --oneline для вывода укороченной версии
Также можно сравнить и ранее проиндексированные версии для этого после команды `git diff <index1> <index2>` указываем семь первых символов индекса изменений. Которыe можно узнать вызвав команду `git log --oneline`
### **9. Вывод истории изменений**
* Для выода истории изменений используйте команду<br>`git log`<br> Возвращает инфоромацию о индексе изменения авторах и дате изменений. Для более краткого формате добавляйте ключ --oneline `git log --online`
### **10. Перемещение по дереву изменений**
* Если необходимо пересеститься в какую либо точку зафкисированных ранее изменений используем команду<br>`git checkout <index1>`<br> После ввода данной команды все изменения которые случились после данного индекса видны не будут. В любой момент можно вернуться в последнее актуальное состояние выполнив команду `git checkout master`
### **11. Игнорирования файлов**
* Для того что бы исключить из отслеживания в репозитории необходимо создать там файл <br>**_.gitignore_**<br> и записать в него названия или шаблоны соответсвующие таким файлам и/или папка
```
image.png - Игнорировать конкретный файл
*.png - Игнорировать все файлы с расширеним .png
/folder - игнорировать все файлы и поддиреткории, директории folder
```
### **12. Создание веток в Git.**
* Ветка в Git - Это простой перемещаемый указатель на один из комитов, обычно последний в цепочке комитов.
По умолчанию имя основной ветки в Git - `master`.
Создать ветку можно командой:
```
git branch <branch_name>
```
Так же ветку можно создать используя команду _checkout_
```
git checkout <branch_name>
```
После создания ветки гит использую команду `git checkout` перекидывает в нее
### **13. Слияние веток и разрешение конфликтов.**
* Для того что бы слияние двух веток, необходимо переместиться в ту ветку в которую надо слить вторую.
Например: находясь в ветке `master` можно объеденять ветки, которые не посредственно являются ответлениями ветки `master`
Далее необходимо выполнить команду `git merge <branch_name>` Указав имя ветки которую надо слить с текущей. При этом в обоих ветках не должно быть не зафиксированных изменений.
После выполнения возможны два дальнейших сценария:
1. Слияние прошло успешно, чисто. Файлы и информация в файлах успешно слилось с текущей веткой.
2. Слияние вызвало конфликт. Информация в текущей ветке и в сливаемой находятся на тех же местах и необходимо выбрать из какой ветки информацию оставить.
* Текущую 
* Пришедшую
* Оба варианта
<br>Конфликт можно исправить в редакторе? после чего сделать индексацию изменения и фиксацию. 
```
git add <file_name>
git commit -m 'some comment'
```
В случае если при слиянии веток конфликта не было, то делать фиксацию после слияния изменений не требуется.
### **14. Удаление веток.**
* Если какая либо из веток стала не нужна. Ее можно удалить. Для этого необходимо выполнить знакомую команду с ключом `git branch -d <branch_name>`<br>
При выполннеии возможны два сценария.<br>
Все прошло отлично, ветка удалена. Система не вернет ни каких сообщений<br>
Система вернула:
>error: The branch `<branch_name>` is not fully merged.<br>
>If you are sure you want to delete it, run 'git branch -D `<branch_name>`'.
Это означает что вы пытаетесь удалить ветку изменения которые не были слиты с другой веткой и могут быт потеряны. Проведите слияние веток или выполните команду по удалению ветки повторно указав другой ключ
```
git branch -D <branch_name>
```
### **15. Удаленные репозитории**

* Для создания и дальнейшей работы с удаленными репозиториями (те которые находятся не на локальном компьютере) используют различные онлайн сервисы.Мы будем использовать, на текущий момент, самый популярный от компании Microsoft - githab

* Если git это программа, то github.com это онлайн сервис для работы с git`ом. Хранение и распространения, информации. Удобство работы нескольких человек надо одним проектом  - одновременно. Это все позволяет делать github.

* Необходимо зарегестрироваться на сайте https://github.com Регистрация бесплатная.
После регистрации мы можем создать репозиторий на сайте и для работы над ним сделаем/оставим его при создании публичным. Таким образом мы даем возможность добовлять, вносить изменения другим пользователям github`a

### **16. Совместная работа над 'чужим' проектом**
#### *16.1. Делаем копирование репозитория себе в аккаунт*
* Ни кто без разрешения не даст вносить изменения в репозиторий и самый удобный способ для всех, это сделать ответление.
Для начала надо получить ссылку на проект от владельца или взять ее самому на сайте github в случаее его публичности.
Далее надо перейти по ссылке и сделать копию проекта в свой аккаунт используя кнопку <mark style="color:#ffffaa;background-color: #666666">fork</mark> на сайте.
<br><br>
#### *16.2. Создание копии проекта на локальном компьютере*
* Что бы начать работать над проектом на своем компьютере, необходимо его скачать или склонировать.<br> На сайте github заходим в скопированный (fork`ом) репозиторий, кликаем на кнопку `code`. В выпадающем окне копируем https ссылку репозитория.<br>
Далее открываем на локальном компьютере терминал и выполняем копирование удаленного репозитория себе на компьютер. Выполняем команду
```
git clone <url_to_remote_repo> <local_path>
```
*url_to_remote_repo - скопированный на сайте url*<br>
*local_path* - имя/путь папки для клонирования репозитория<br>
<br>
#### *16.3. Корректная работа над одним проектом*
* Для того, что бы было меньше конфликтов и была более понятная структура коммитов. Необходимо вносить изменения в отличной от основной, веткe. В начале работы создаем отдельную ветку и все дальнейшие изменения и комиты уже проводим в ней. Используем команду `git branch <branch_name>` или `git checkout -b <branch_name>`<br><br>

#### *16.4 Загрузить изменения в проект*
* После того как закончили редактировать проект на локальном компьютере. Внесли все необходмые изменения. Зафиксировали командой `git add .` и `git commit -m 'text'`. Мы загружаем изменения репозитория на github.com используя команду
``` 
git push 
```
При первой попытке git вернет ошибку
>fatal: The current branch <branch_name> has no upstream branch.<br>

Для корректировки команды нам нужно указать, что мы заливаем новую ветку, которой не существует в удаленном репозитории. 
```
git push -u <alias_name> <branch_name>
```
*alias_name - псевдоним удаленного подключения, обычно это `origin`*<br>

* После того, как изменения в проект были добавлены мы предлагаем принять наши доработки/правки владельцу исходного проекта.<br>
Для этого на сайте github в репозитории(в своей копии) нажимаем `pull request`. добавляем комментарий и отправляем изменения владельцу.
Если по каким то причинам в репозитории не появилась кнопка `pull request`. То переходим в меню репозитория в раздел `pull request` там выбираем ветку с изменениями <branch_name> и так же добовляем коментарий и отправляем владельцу.
### **17. Настройка удаленного подключение через https**
* Для удаленного подключения через https. Нужно скопировать путь до удаленного репозитория на сайте github 
* Проверяем командой `git remote -v` Правильно ли настроено удаленное соединение
```
origin  https://github.com/{username}/{repo_name}.git (fetch)
origin  https://github.com/{username}/{repo_name}.git (push)
```
* Если соединение не настроено то команда `git remote -v` ни чего не вернет. Если вернет с некорректным url то текущие нестройки можно от редактировать `git remote set-<url>` или удалить командой `git remote rm <name>`
* Можно добавить к текущим подключениям или создать новое использовав команду 
```
git remote add <alias_name> <url>
```
### **18. Настройка удаленного подключение через ssh**

* Для удаленного подключения по SSH необходимо сгенерировать SSH ключ. Для этого выполним в терминале ssh-keygen. 
* После выполнения команды будет запрос от терминала где именно будет храниться ключ по умолчанию это C:\Users\{username}\.ssh . Название файла по умолчанию будет id_rsa и id_rsa.pub
* Далее будет запрос о специальной фразе. passphraze. Ее можно не указвать. Если ее указали то надо на следующий запрос указать ее снова.
* Будет сгенерирован файл который находиться C:\Users\{username}\.ssh
* Скопируем публичную часть ключа, которую надо будет добавить на удаленный сервер, в данном случае это github. Для этого выведем на экран терминала содержимое файла `cat /C/Users/{username}/.ssh/id_rsa.pub`
* Надо перейти на сайт GITHUB, нажать на иконку вашего пользователя. Перейти в раздел settings.
* Выбрать в левом меню раздел SSH and GPG keys. Нажимаем на кнопку новый SSH key. 
* Указываем его название, например: My PC. Вставляем из буфера обмена ранее скопированный ключ после чего нас попросят подтвердить пароль сайта github.
* Необходимо в репозитории на локальном компьютере настроить SSH соединение. Для этого выведем в терминале текущие настройки. Выполнив команду git remote -v
>Вариант 1 команда ни чего не выведет<br> 
>Вариант 2 команда вернет что настроены https запросы 
```
origin  https://github.com/{username}/{repo_name}.git (fetch)
origin  https://github.com/{username}/{repo_name}.git (push)
```     
>Вариант 3 команда вернет что настроены SSH запросы       
```
origin  [git@github.com](mailto:git@github.com):{username}/{repo_name}.git (fetch)
origin  [git@github.com](mailto:git@github.com):{username}/{repo_name}.git (push)
```        
* Для 1,2 варианта и в случае неверного указанного удаленного репозитория для 3 варианта. Добавим или заменим на правильный. Выполним команду `git remote add <alias_name> <url> В нашем случае это будет: 
```
git remote add origin [git@github.com](mailto:git@github.com):{username}/{repo_name}.git
```
* Если добавить не получилось, то стоит перед добавлением удалить текущие настройки командой ```
```
git remote rm <alias_name>
```
* Пробуем сделать отправку данных из репозитория на локальном компьютере на удаленный репозиторий (ранее созданный) на сервиcе github. Командой git push
* При первой отправке git вернет фатальную ошибку так как не знает какая именно ветка связывается с веткой на удаленном компьютере.
>fatal: The current branch <branch_name> has no upstream branch.<br>
>To push the current branch and set the remote as upstream, use  
>
>git push --set-upstream origin <branch_name>
>
>To have this happen automatically for branches without a tracking<br>
>upstream, see 'push.autoSetupRemote' in 'git help config'.
    
* Для первой отправки используйте команду которую рекомендует сделать git .
```
git push --set-upstream origin <branch_name>
```
git свяжет текущую ветку master с удаленной.


>Необходимо больше информации? Заходи сюда: https://git-scm.com/